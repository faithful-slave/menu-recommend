<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì˜¤ëŠ˜ ë­ ë¨¹ì§€? Â· ë©”ë‰´ ì¶”ì²œ</title>
  <meta name="description" content="ì‹ì‚¬ì‹œê°„ëŒ€Â·ê°€ë²¼ì›€Â·ë§µê¸°Â·êµ­ê°€Â·ì¢…ë¥˜ë¡œ í•„í„°ë§í•˜ëŠ” ê¹”ë”í•œ ë©”ë‰´ ì¶”ì²œê¸°" />
  <style>
    /* ====== Design Tokens ====== */
    :root{
      --bg: #f7f7fb;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --primary: #ef4444;
      --primary-600:#dc2626;
      --ring: rgba(239,68,68,.25);
      --border: #e5e7eb;
      --chip: #f3f4f6;
      --shadow: 0 6px 18px rgba(0,0,0,.06);
      --radius: 16px;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg: #0b0f14;
        --card: #121821;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --primary: #f87171;
        --primary-600:#ef4444;
        --ring: rgba(248,113,113,.25);
        --border: #1f2937;
        --chip: #111827;
        --shadow: 0 10px 24px rgba(0,0,0,.35);
      }
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Helvetica, Arial;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(239,68,68,.10), transparent 50%),
                  radial-gradient(1200px 600px at 10% 110%, rgba(59,130,246,.10), transparent 50%),
                  var(--bg);
      color:var(--text);
      -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
    }

    .wrap{max-width:980px; margin:40px auto; padding:0 20px}

    header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:20px}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:40px; height:40px; border-radius:12px; display:grid; place-items:center; background:#fff; box-shadow:var(--shadow)}
    .logo span{font-size:22px}
    h1{font-size: clamp(22px, 3vw, 28px); margin:0; letter-spacing:-.2px}
    .sub{color:var(--muted); font-size:14px}

    .card{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow)}
    .panel{padding:24px}

    .controls{ display:grid; grid-template-columns:1fr; gap:14px}
    @media(min-width:640px){ .controls{ grid-template-columns:repeat(3,1fr) } }
    @media(min-width:980px){ .controls{ grid-template-columns:repeat(5,1fr) } }

    label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px }
    select{ width:100%; appearance:none; -webkit-appearance:none; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:linear-gradient(var(--card),var(--card)) padding-box, linear-gradient(180deg,#fff0,#0000000d) border-box; color:var(--text); font-size:15px; transition: box-shadow .2s, border-color .2s}
    select:focus{ outline:none; border-color:var(--primary); box-shadow:0 0 0 4px var(--ring) }

    .actions{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px }
    .btn{ padding:12px 16px; border-radius:12px; border:1px solid transparent; cursor:pointer; font-weight:600; font-size:15px }
    .btn-primary{ background:var(--primary); color:#fff }
    .btn-primary:hover{ background:var(--primary-600) }
    .btn-ghost{ background:transparent; border-color:var(--border); color:var(--text) }
    .btn-ghost:hover{ border-color:var(--muted) }

    .result{ margin-top:18px; display:grid; gap:14px }

    .dish{ display:flex; align-items:center; gap:16px; padding:16px; border:1px solid var(--border); border-radius:14px }
    .dish-emoji{ width:56px; height:56px; border-radius:14px; display:grid; place-items:center; font-size:28px; background:var(--chip) }
    .dish-main{ flex:1 }
    .dish-name{ font-size:18px; font-weight:800; letter-spacing:-.2px; margin:0 0 4px }
    .chips{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px }
    .chip{ font-size:12px; padding:6px 10px; background:var(--chip); border-radius:999px; color:var(--muted); border:1px solid var(--border) }

    .muted{ color:var(--muted); font-size:14px }

    footer{ text-align:center; color:var(--muted); font-size:12px; padding:22px 0 40px }
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>ğŸ±</span></div>
        <div>
          <h1>ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</h1>
          <div class="sub">ì˜µì…˜ í•˜ë‚˜ë§Œ ë°”ê¿”ë„ ìë™ ì´ˆê¸°í™”Â·ì¬ì¶”ì²œ</div>
        </div>
      </div>
      <button class="btn btn-ghost" id="randomize" title="ì˜µì…˜ì„ ëœë¤ìœ¼ë¡œ ì„ê¸°" aria-label="ì˜µì…˜ ëœë¤">ğŸ”€ ì„ê¸°</button>
    </header>

    <section class="card panel" aria-labelledby="filterTitle">
      <h2 id="filterTitle" class="visually-hidden" style="position:absolute;left:-9999px">í•„í„° ì„ íƒ</h2>
      <div class="controls" id="controls">
        <div>
          <label for="time">ì‹ì‚¬ ì‹œê°„ëŒ€</label>
          <select id="time">
            <option>ì•„ì¹¨</option>
            <option selected>ì ì‹¬</option>
            <option>ì €ë…</option>
            <option>ì•¼ì‹</option>
            <option>ê°„ì‹</option>
          </select>
        </div>
        <div>
          <label for="light">ê°€ë²¼ì›€ ì •ë„</label>
          <select id="light">
            <option>ë§¤ìš° ê°€ë²¼ì›€</option>
            <option selected>ê°€ë²¼ì›€</option>
            <option>ë³´í†µ</option>
            <option>ë“ ë“ í•¨</option>
            <option>í—¤ë¹„</option>
          </select>
        </div>
        <div>
          <label for="spicy">ë§µê¸°</label>
          <select id="spicy">
            <option>0-ì•ˆë§¤ì›€</option>
            <option selected>1-ì•½ê°„</option>
            <option>2-ì¤‘ê°„</option>
            <option>3-ë§¤ì›€</option>
          </select>
        </div>
        <div>
          <label for="nation">êµ­ê°€ë³„</label>
          <select id="nation">
            <option selected>í•œì‹</option>
            <option>ì¤‘ì‹</option>
            <option>ì¼ì‹</option>
            <option>ì–‘ì‹</option>
            <option>ë™ë‚¨ì•„</option>
            <option>ì¸ë„</option>
            <option>ë©•ì‹œì½”</option>
            <option>ê¸°íƒ€</option>
          </select>
        </div>
        <div>
          <label for="type">ì¢…ë¥˜</label>
          <select id="type">
            <option selected>ë°¥</option>
            <option>ë©´</option>
            <option>ë¹µ/ë²„ê±°</option>
            <option>êµ­Â·íƒ•Â·ì°Œê°œ</option>
            <option>ë¶„ì‹</option>
            <option>ìƒëŸ¬ë“œ/ë¼ì´íŠ¸</option>
            <option>ë””ì €íŠ¸</option>
          </select>
        </div>
      </div>
      <div class="actions">
        <button class="btn btn-primary" id="btnRecommend">ì¶”ì²œë°›ê¸° ğŸ½ï¸</button>
        <button class="btn btn-ghost" id="btnClear">í•„í„° ì´ˆê¸°í™”</button>
      </div>

      <div class="result" id="result" aria-live="polite">
        <p class="muted">ì˜µì…˜ì„ ì„ íƒí•˜ê±°ë‚˜ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™” í›„ ì¬ì¶”ì²œë©ë‹ˆë‹¤.</p>
      </div>
    </section>

    <footer>
      Made with â¤ Â· GitHub Pages
    </footer>
  </main>

  <script>
    // ====== ê¸°ë³¸ê°’ ì •ì˜ (ì´ˆê¸°í™” ì‹œ ì°¸ê³ ) ======
    const DEFAULTS = {
      time: 'ì ì‹¬',
      light: 'ê°€ë²¼ì›€',
      spicy: '1-ì•½ê°„',
      nation: 'í•œì‹',
      type: 'ë°¥'
    };

    // ====== ë©”ë‰´ ë°ì´í„° í™•ì¥ ======
    const MENUS = [
      // í•œì‹
      { name:'ë¹„ë¹”ë°¥', emoji:'ğŸ¥—', time:'ì ì‹¬', light:'ë³´í†µ', spicy:'1-ì•½ê°„', nation:'í•œì‹', type:'ë°¥' },
      { name:'ê¹€ì¹˜ì°Œê°œ', emoji:'ğŸ¥˜', time:'ì €ë…', light:'ë³´í†µ', spicy:'3-ë§¤ì›€', nation:'í•œì‹', type:'êµ­Â·íƒ•Â·ì°Œê°œ' },
      { name:'ëœì¥ì°Œê°œ', emoji:'ğŸ²', time:'ì €ë…', light:'ë³´í†µ', spicy:'0-ì•ˆë§¤ì›€', nation:'í•œì‹', type:'êµ­Â·íƒ•Â·ì°Œê°œ' },
      { name:'ì œìœ¡ë³¶ìŒ', emoji:'ğŸ–', time:'ì ì‹¬', light:'ë“ ë“ í•¨', spicy:'2-ì¤‘ê°„', nation:'í•œì‹', type:'ë°¥' },
      { name:'ê°ˆë¹„íƒ•', emoji:'ğŸ¥£', time:'ì €ë…', light:'ë“ ë“ í•¨', spicy:'0-ì•ˆë§¤ì›€', nation:'í•œì‹', type:'êµ­Â·íƒ•Â·ì°Œê°œ' },
      { name:'ì‚¼ê³„íƒ•', emoji:'ğŸ”', time:'ì ì‹¬', light:'ë“ ë“ í•¨', spicy:'0-ì•ˆë§¤ì›€', nation:'í•œì‹', type:'êµ­Â·íƒ•Â·ì°Œê°œ' },
      { name:'ê¹€ë°¥', emoji:'ğŸ™', time:'ì•„ì¹¨', light:'ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'í•œì‹', type:'ë¶„ì‹' },
      { name:'ë–¡ë³¶ì´', emoji:'ğŸŒ¶ï¸', time:'ê°„ì‹', light:'ë³´í†µ', spicy:'2-ì¤‘ê°„', nation:'í•œì‹', type:'ë¶„ì‹' },
      { name:'ë¼ë©´', emoji:'ğŸœ', time:'ì•¼ì‹', light:'ë³´í†µ', spicy:'3-ë§¤ì›€', nation:'í•œì‹', type:'ë©´' },
      { name:'ë¬¼ëƒ‰ë©´', emoji:'ğŸ¥¶', time:'ì ì‹¬', light:'ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'í•œì‹', type:'ë©´' },
      { name:'ë¹„ë¹”ëƒ‰ë©´', emoji:'ğŸ¥µ', time:'ì ì‹¬', light:'ê°€ë²¼ì›€', spicy:'2-ì¤‘ê°„', nation:'í•œì‹', type:'ë©´' },

      // ì¤‘ì‹
      { name:'ì§œì¥ë©´', emoji:'ğŸ', time:'ì ì‹¬', light:'ë³´í†µ', spicy:'0-ì•ˆë§¤ì›€', nation:'ì¤‘ì‹', type:'ë©´' },
      { name:'ì§¬ë½•', emoji:'ğŸ”¥', time:'ì ì‹¬', light:'ë³´í†µ', spicy:'3-ë§¤ì›€', nation:'ì¤‘ì‹', type:'ë©´' },
      { name:'ë§ˆíŒŒë‘ë¶€', emoji:'ğŸ²', time:'ì €ë…', light:'ê°€ë²¼ì›€', spicy:'2-ì¤‘ê°„', nation:'ì¤‘ì‹', type:'ê¸°íƒ€' },
      { name:'ê¿”ë°”ë¡œìš°', emoji:'ğŸ¥©', time:'ì €ë…', light:'í—¤ë¹„', spicy:'1-ì•½ê°„', nation:'ì¤‘ì‹', type:'ê¸°íƒ€' },

      // ì¼ì‹
      { name:'ì´ˆë°¥', emoji:'ğŸ£', time:'ì €ë…', light:'ë§¤ìš° ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'ì¼ì‹', type:'ë°¥' },
      { name:'ëˆì¹´ì¸ ', emoji:'ğŸ±', time:'ì ì‹¬', light:'ë“ ë“ í•¨', spicy:'1-ì•½ê°„', nation:'ì¼ì‹', type:'ë°¥' },
      { name:'ìš°ë™', emoji:'ğŸ¥¢', time:'ì•„ì¹¨', light:'ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'ì¼ì‹', type:'ë©´' },
      { name:'ê·œë™', emoji:'ğŸš', time:'ì €ë…', light:'ë³´í†µ', spicy:'0-ì•ˆë§¤ì›€', nation:'ì¼ì‹', type:'ë°¥' },

      // ì–‘ì‹
      { name:'ë§ˆë¥´ê²Œë¦¬íƒ€ í”¼ì', emoji:'ğŸ•', time:'ì €ë…', light:'ë³´í†µ', spicy:'0-ì•ˆë§¤ì›€', nation:'ì–‘ì‹', type:'ë¹µ/ë²„ê±°' },
      { name:'ë³¼ë¡œë„¤ì œ íŒŒìŠ¤íƒ€', emoji:'ğŸ', time:'ì €ë…', light:'ë³´í†µ', spicy:'0-ì•ˆë§¤ì›€', nation:'ì–‘ì‹', type:'ë©´' },
      { name:'ì¹˜ì¦ˆë²„ê±°', emoji:'ğŸ”', time:'ì ì‹¬', light:'í—¤ë¹„', spicy:'1-ì•½ê°„', nation:'ì–‘ì‹', type:'ë¹µ/ë²„ê±°' },
      { name:'ì‹œì €ìƒëŸ¬ë“œ', emoji:'ğŸ¥—', time:'ì•„ì¹¨', light:'ë§¤ìš° ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'ì–‘ì‹', type:'ìƒëŸ¬ë“œ/ë¼ì´íŠ¸' },

      // ë™ë‚¨ì•„
      { name:'íŒŸíƒ€ì´', emoji:'ğŸ¤', time:'ì €ë…', light:'ë³´í†µ', spicy:'1-ì•½ê°„', nation:'ë™ë‚¨ì•„', type:'ë©´' },
      { name:'ìŒ€êµ­ìˆ˜', emoji:'ğŸœ', time:'ì ì‹¬', light:'ê°€ë²¼ì›€', spicy:'1-ì•½ê°„', nation:'ë™ë‚¨ì•„', type:'ë©´' },
      { name:'ë‚˜ì‹œê³ ë ', emoji:'ğŸš', time:'ì €ë…', light:'ë³´í†µ', spicy:'2-ì¤‘ê°„', nation:'ë™ë‚¨ì•„', type:'ë°¥' },

      // ì¸ë„
      { name:'ë²„í„°ì¹˜í‚¨ ì»¤ë¦¬', emoji:'ğŸ›', time:'ì €ë…', light:'ë³´í†µ', spicy:'1-ì•½ê°„', nation:'ì¸ë„', type:'ë°¥' },
      { name:'íŒ”ë½ íŒŒë‹ˆë¥´', emoji:'ğŸ¥¬', time:'ì ì‹¬', light:'ê°€ë²¼ì›€', spicy:'1-ì•½ê°„', nation:'ì¸ë„', type:'ë°¥' },
      { name:'ì¹˜í‚¨ í‹°ì¹´', emoji:'ğŸ—', time:'ì €ë…', light:'ë³´í†µ', spicy:'2-ì¤‘ê°„', nation:'ì¸ë„', type:'ìƒëŸ¬ë“œ/ë¼ì´íŠ¸' },

      // ë©•ì‹œì½”
      { name:'íƒ€ì½”', emoji:'ğŸŒ®', time:'ì ì‹¬', light:'ê°€ë²¼ì›€', spicy:'1-ì•½ê°„', nation:'ë©•ì‹œì½”', type:'ë¹µ/ë²„ê±°' },
      { name:'ë¶€ë¦¬ë˜', emoji:'ğŸŒ¯', time:'ì €ë…', light:'ë³´í†µ', spicy:'2-ì¤‘ê°„', nation:'ë©•ì‹œì½”', type:'ë¹µ/ë²„ê±°' },
      { name:'í€˜ì‚¬ë””ì•¼', emoji:'ğŸ«“', time:'ê°„ì‹', light:'ë³´í†µ', spicy:'1-ì•½ê°„', nation:'ë©•ì‹œì½”', type:'ë¹µ/ë²„ê±°' },

      // ê¸°íƒ€/ë¼ì´íŠ¸/ë””ì €íŠ¸
      { name:'ì—°ì–´í¬ì¼€', emoji:'ğŸŸ', time:'ì ì‹¬', light:'ë§¤ìš° ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'ê¸°íƒ€', type:'ìƒëŸ¬ë“œ/ë¼ì´íŠ¸' },
      { name:'ìš”ê±°íŠ¸ ë³¼', emoji:'ğŸ¥£', time:'ì•„ì¹¨', light:'ë§¤ìš° ê°€ë²¼ì›€', spicy:'0-ì•ˆë§¤ì›€', nation:'ê¸°íƒ€', type:'ë””ì €íŠ¸' },
      { name:'í¬ë¡œí”Œ', emoji:'ğŸ§‡', time:'ê°„ì‹', light:'ë³´í†µ', spicy:'0-ì•ˆë§¤ì›€', nation:'ê¸°íƒ€', type:'ë””ì €íŠ¸' }
    ];

    // ====== ìœ í‹¸ ======
    const $ = sel => document.querySelector(sel);
    const pick = arr => arr[Math.floor(Math.random()*arr.length)];

    function getFilters(){
      return {
        time:  $('#time').value,
        light: $('#light').value,
        spicy: $('#spicy').value,
        nation:$('#nation').value,
        type:  $('#type').value,
      };
    }

    function setDefaults(){
      // ëª¨ë“  ì…€ë ‰íŠ¸ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
      const map = {
        time: DEFAULTS.time,
        light: DEFAULTS.light,
        spicy: DEFAULTS.spicy,
        nation: DEFAULTS.nation,
        type: DEFAULTS.type
      };
      Object.entries(map).forEach(([id,val])=>{
        const el = document.getElementById(id);
        const idx = [...el.options].findIndex(o=>o.value===val);
        if(idx>=0) el.selectedIndex = idx;
      });
    }

    function scoreMenu(menu, f){
      let s = 0;
      if(menu.time===f.time) s++;
      if(menu.light===f.light) s++;
      if(menu.spicy===f.spicy) s++;
      if(menu.nation===f.nation) s++;
      if(menu.type===f.type) s++;
      return s;
    }

    function filterMenus(f){
      for(let need=5; need>=3; need--){
        const group = MENUS.filter(m => scoreMenu(m,f)===need);
        if(group.length) return group;
      }
      const relaxed = MENUS.filter(m => scoreMenu(m,f)>=2);
      return relaxed.length ? relaxed : MENUS;
    }

    function chip(text){
      return `<span class="chip">${text}</span>`;
    }

    function renderDish(m){
      return `
        <article class="dish" role="group" aria-label="ì¶”ì²œ ë©”ë‰´">
          <div class="dish-emoji" aria-hidden="true">${m.emoji || 'ğŸ½ï¸'}</div>
          <div class="dish-main">
            <h3 class="dish-name">${m.name}</h3>
            <div class="chips">
              ${chip(m.time)} ${chip(m.light)} ${chip(m.spicy)} ${chip(m.nation)} ${chip(m.type)}
            </div>
          </div>
          <button class="btn btn-ghost" aria-label="ë‹¤ì‹œ ì¶”ì²œ" onclick="recommend(true)">ğŸ”</button>
        </article>`;
    }

    function recommend(isReroll=false){
      const filters = getFilters();
      localStorage.setItem('menuFilters', JSON.stringify(filters));

      const candidates = filterMenus(filters);
      const chosen = pick(candidates);
      const alt = candidates.filter(x => x!==chosen);

      const $res = $('#result');
      $res.innerHTML = renderDish(chosen) +
        (alt.length ? `<div class="muted">ìœ ì‚¬ ì¶”ì²œ: ${alt.slice(0,3).map(a=>a.name).join(' Â· ')}</div>` : '');

      if(!isReroll){
        $res.setAttribute('aria-live','polite');
      }
    }

    function clearFilters(){
      setDefaults();
      localStorage.removeItem('menuFilters');
      $('#result').innerHTML = '<p class="muted">ì˜µì…˜ì„ ì„ íƒí•˜ê±°ë‚˜ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™” í›„ ì¬ì¶”ì²œë©ë‹ˆë‹¤.</p>';
    }

    function randomizeFilters(){
      const selects = document.querySelectorAll('select');
      selects.forEach(s => {
        s.selectedIndex = Math.floor(Math.random()*s.options.length);
      });
    }

    // ====== í•µì‹¬ ìš”êµ¬: "ì•„ë¬´ê±°ë‚˜ í•˜ë‚˜ë¼ë„ ë³€ê²½í•˜ë©´ í•„í„° ì´ˆê¸°í™”í•˜ê³  ì¬ì ìš©" ======
    function onAnyChange(e){
      const changed = e.target; // ë°”ë€ ì…€ë ‰íŠ¸
      const newVal = changed.value;
      // 1) ì „ì²´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
      setDefaults();
      // 2) ë°©ê¸ˆ ë°”ê¾¼ ì…€ë ‰íŠ¸ë§Œ ì‚¬ìš©ìê°€ ì„ íƒí•œ ê°’ìœ¼ë¡œ ì„¤ì •
      const idx = [...changed.options].findIndex(o=>o.value===newVal);
      if(idx>=0) changed.selectedIndex = idx;
      // 3) ë°”ë¡œ ì¶”ì²œ ì‹¤í–‰
      recommend(false);
    }

    // ì´ë²¤íŠ¸ ë°”ì¸ë”©
    $('#btnRecommend').addEventListener('click', () => recommend(false));
    $('#btnClear').addEventListener('click', clearFilters);
    $('#randomize').addEventListener('click', () => { randomizeFilters(); recommend(false); });

    // ëª¨ë“  ì…€ë ‰íŠ¸ì— change ì´ë²¤íŠ¸ ì—°ê²°
    document.querySelectorAll('select').forEach(sel => sel.addEventListener('change', onAnyChange));

    // ì´ˆê¸°: ì €ì¥ëœ ê°’ ë³µì›(ìˆìœ¼ë©´), ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì„¸íŒ…
    (function init(){
      const saved = localStorage.getItem('menuFilters');
      if(saved){
        try{
          const f = JSON.parse(saved);
          ['time','light','spicy','nation','type'].forEach(k=>{
            const el = document.getElementById(k);
            const idx = [...el.options].findIndex(o=>o.value===f[k]);
            if(idx>=0) el.selectedIndex = idx;
          });
        }catch(_){ setDefaults(); }
      }else{
        setDefaults();
      }
    })();
  </script>
</body>
</html>
